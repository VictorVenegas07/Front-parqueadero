<ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-scale-multiple">
  <div class="spinner"></div>
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>
<div div class="body-content">
  <div class="card">
    <div class="card-head">
      <div class="header-container-mobile d-xl-">
        <div class="row">
          <div class="col-1 icon-back">
            <i class="fa-solid fa-arrow-left" [routerLink]="['/sidenav/tickets/consultar-tickets']"></i>
          </div>
          <div class="col-10 title-header"><strong>{{title}} tickets</strong></div>
          <div class="col-1">
            <div class="row mb-4 icon-header">
              <div class="col- ml-1" style="font-size: 30px">
                <i class="fa-solid fa-floppy-disk" *ngIf="editValue "
                 (click) ="generarfactura()"
                 matTooltip="Facturar" 
                 matTooltipClass="style-tooltip"
                 [matTooltipPosition]="'above'"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card-body">
      <div class="internal-body-containe">
        <form [formGroup]="formGroup">
          <div class="row mb-4 ">
            <div class="separator">
              <!-- Text -->
              <div class="separator__content">Datos del cliente</div>

              <!-- Separator line -->
              <div class="separator__separator"></div>
            </div>
          </div>
          <div class="row mb-4 ">
            <div class="col-sm-3">
              <label for="nombre" class="form-label">Tipo Identificacion</label>
              <select class="form-select form-control" formControlName="tDocumento"
                aria-label=".form-select-lg example">
                <option disabled selected value>Seleccione</option>
                <option *ngFor="let item of tdocumentos" [value]="item">{{item}}</option>
              </select>

              <!-- <span class="text-danger ps-2" *ngIf="(searchForm.controls.correo.touched || submitted) && searchForm.controls.correo.errors?.required">Municipio obligatorio</span> -->
            </div>
            <div class="col-sm-3">
              <label for="nombre" class="form-label">Identificacion</label>
              <input type="email" id="correo" class="form-control" formControlName="identificacion"
                placeholder="Texto ...">
              <!-- <span class="text-danger ps-2" *ngIf="(searchForm.controls.correo.touched || submitted) && searchForm.controls.correo.errors?.required">Municipio obligatorio</span> -->
            </div>
            <div class="col-sm-3">
              <label for="nombre" class="form-label">Nombre</label>
              <input type="email" id="correo" class="form-control" formControlName="nombres" placeholder="Texto ...">
              <!-- <span class="text-danger ps-2" *ngIf="(searchForm.controls.correo.touched || submitted) && searchForm.controls.correo.errors?.required">Municipio obligatorio</span> -->
            </div>
            <div class="col-sm-3">
              <label for="nombre" class="form-label">Telefono</label>
              <input type="email" id="correo" class="form-control" formControlName="telefono" placeholder="Texto ...">
              <!-- <span class="text-danger ps-2" *ngIf="(searchForm.controls.correo.touched || submitted) && searchForm.controls.correo.errors?.required">Municipio obligatorio</span> -->
            </div>
          </div>
          <div class="row mb-4 ">
            <div class="separator">
              <!-- Text -->
              <div class="separator__content">Datos del vehiculo</div>

              <!-- Separator line -->
              <div class="separator__separator"></div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-sm-3">
              <label for="nombre" class="form-label">Tipo vehiculo</label>
              <select class="form-select form-control" formControlName="tVehiculo" aria-label=".form-select-lg example">
                <!-- <option selected>Selecionar</option> -->
                <option disabled selected value>Seleccionar</option>
                <option *ngFor="let item of tarifas" [value]="item.tipo">{{item.tipo}}</option>
              </select>

              <!-- <span class="text-danger ps-2" *ngIf="(searchForm.controls.correo.touched || submitted) && searchForm.controls.correo.errors?.required">Municipio obligatorio</span> -->
            </div>
            <div class="col-sm-3">
              <label for="nombre" class="form-label">Placa</label>
              <input type="email" id="correo" class="form-control" formControlName="placa" placeholder="Texto ...">
              <!-- <span class="text-danger ps-2" *ngIf="(searchForm.controls.correo.touched || submitted) && searchForm.controls.correo.errors?.required">Municipio obligatorio</span> -->
            </div>
            <div class="col-sm-3">
              <label for="nombre" class="form-label">Marca</label>
              <input type="email" id="correo" class="form-control" formControlName="marca" placeholder="Texto ...">
              <!-- <span class="text-danger ps-2" *ngIf="(searchForm.controls.correo.touched || submitted) && searchForm.controls.correo.errors?.required">Municipio obligatorio</span> -->
            </div>
            <div class="col-sm-3">
              <label for="nombre" class="form-label">Modelo</label>
              <select class="form-select form-control" formControlName="modelo" aria-label=".form-select-lg example">
                <option value disabled selected>Seleccionar</option>
                <option *ngFor="let item of anio" [value]="item">{{item}}</option>
              </select>
              <!-- <span class="text-danger ps-2" *ngIf="(searchForm.controls.correo.touched || submitted) && searchForm.controls.correo.errors?.required">Municipio obligatorio</span> -->
            </div>
          </div>
          <div class="separator">
            <!-- Text -->
            <div class="separator__content">Datos adicionales</div>

            <!-- Separator line -->
            <div class="separator__separator"></div>
          </div>
          <div class="container">
            <div class="row mb-2">
              <div class="col-lg-12  m- pt-4">
                <div class="docked-at-corner mx-auto">
                  <!-- Docked at the top right corner -->
                  <div class="row ">
                    <div class="col-4 pt-3">
                     <div class="text-center">
                      <span class="m-3 text-center">Puesto</span>
                      <div class="m-2">
                        <img src="../../../../assets/icons/cardisponible.png"  width="100px" *ngIf="!puesto">
                      <img src="../../../../assets/icons/carocupado.png"   width="100px" *ngIf="puesto">
                      </div>
                      <p>{{control['puesto'].value}}</p>
                    </div>
                    </div>
                    <div class="col-8  pt-3">
                      <div class="row m-2"><p>El veh√≠culo con matricula {{control['placa'].value}} esta ubicado en el puesto {{control['puesto'].value}},
                        su fecha de llegada fue {{control['hllegada'].value | date }} a las {{control['hllegada'].value |  date : 'mediumTime'}}
                      </p></div>

                      <div class="row m-2" *ngIf="!editValue">
                        <strong>Total: <span style="font-size: 20px;">{{control['total'].value}}$</span> </strong>
                      </div>
                    </div>
                  </div>
                  <div class="docked-at-corner__docker"></div>
                </div>

              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>